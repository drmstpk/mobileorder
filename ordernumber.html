<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>注文確認</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        h1 {
            text-align: center;
        }

        .nickname-container {
            text-align: center;
            margin-top: 20px;
        }

        .nickname-list {
            list-style-type: none;
            padding: 0;
        }

        .nickname-item {
            font-size: 1.5em;
            font-weight: bold;
            color: #4CAF50;
            margin: 5px 0;
        }
    </style>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js"></script>
</head>
<body>
    <h1>注文確認</h1>
    <div class="nickname-container">
        <p>お客様のニックネーム:</p>
        <ul id="nickname-list" class="nickname-list">
            <!-- ここにニックネームを表示 -->
        </ul>
    </div>

    <script>
        // Firebaseの設定
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_AUTH_DOMAIN",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_STORAGE_BUCKET",
            messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
            appId: "YOUR_APP_ID"
        };

        // Firebaseを初期化
        const app = firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore(app);

        // firestoreからニックネームを取得
        function fetchNicknames() {
            db.collection("nicknames").get()
                .then((querySnapshot) => {
                    const nicknameList = document.getElementById("nickname-list");
                    nicknameList.innerHTML = ""; // 既存のリストをクリア

                    querySnapshot.forEach((doc) => {
                        const nickname = doc.data().nickname;
                        const li = document.createElement("li");
                        li.classList.add("nickname-item");
                        li.textContent = nickname;
                        nicknameList.appendChild(li);
                    });
                })
                .catch((error) => {
                    console.error("エラーが発生しました: ", error);
                });
        }

        // ページが読み込まれた際にニックネームを取得
        window.onload = fetchNicknames;
    </script>
</body>
</html>
